# üí≥ API –¥–ª—è –º–µ—Ä—á–∞–Ω—Ç–æ–≤ Bereke Bank

---

–≠—Ç–∞ Go-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —ç–∫–≤–∞–π—Ä–∏–Ω–≥–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π Bereke Bank. –° –µ—ë –ø–æ–º–æ—â—å—é –≤—ã —Å–º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Ö —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å, –∞ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –≤–æ–∑–≤—Ä–∞—Ç—É —Å—Ä–µ–¥—Å—Ç–≤, –æ—Ç–º–µ–Ω–µ –∏ –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏—é (—Å—Ç–æ—Ä–Ω–æ) —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

API –¥–ª—è –º–µ—Ä—á–∞–Ω—Ç–æ–≤ Bereke Bank –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

* ‚úÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–∞** (`RegisterOrder`): –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ –∑–∞–∫–∞–∑—ã –≤ —Å–∏—Å—Ç–µ–º–µ.
* üîé **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞** (`OrderStatus`): –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–∞—Ç—É—Å–µ –ª—é–±–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–∞–∑–∞.
* üí∏ **–í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤** (`RefundOrder`): –ò–Ω–∏—Ü–∏–∏—Ä—É–π—Ç–µ –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥ –ø–æ —Ä–∞–Ω–µ–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
* üîÑ **–ê–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞** (`ReversalOrder`): –ê–Ω–Ω—É–ª–∏—Ä—É–π—Ç–µ (—Å—Ç–æ—Ä–Ω–æ) –ø–ª–∞—Ç–µ–∂–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é.
* ‚ùå **–û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞** (`CancelOrder`): –û—Ç–º–µ–Ω—è–π—Ç–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã.
* üì° **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API** (`Ping`): –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ API.

---

## üåê –°—Ä–µ–¥—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –¥–≤–µ —Å—Ä–µ–¥—ã:

* `bereke_merchant.TEST`: **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞** ‚Äî –∏–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
* `bereke_merchant.PROD`: **–ë–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞** ‚Äî –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

---

## üß© –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å API (Go)

API –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ–≥–æ Go-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–≥–æ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

```go
type API interface {
    RegisterOrder(ctx context.Context, req RegisterOrderRequest) (RegisterOrderResponse, error)
    OrderStatus(ctx context.Context, req OrderStatusRequest) (OrderStatusResponse, error)
    RefundOrder(ctx context.Context, req RefundOrderRequest) (Response, error)
    ReversalOrder(ctx context.Context, req ReversalOrderRequest) (Response, error)
    CancelOrder(ctx context.Context, req CancelOrderRequest) (Response, error)
    Ping() error
}
```

## üîë –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–∞

–ü—Ä–µ–∂–¥–µ —á–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç API, –∏—Å–ø–æ–ª—å–∑—É—è –≤–∞—à–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å) –∏ –≤—ã–±—Ä–∞–≤ –Ω—É–∂–Ω—É—é —Å—Ä–µ–¥—É.
```go
	api, err := bereke_merchant.NewWithLogin("super_secret_login", "super_secret_password", bereke_merchant.TEST)
    if err != nil {
        log.Fatal("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ API:", err)
    }
```
–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
```go
	api, err := bereke_merchant.NewWithCertificate("cert_path", "cert_super_password", bereke_merchant.PROD)
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ API:", err)
	}
```

–ï—Å–ª–∏ –∏–º–µ–µ—Ç—Å—è —Ç–æ–∫–µ–Ω –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
```go
	api, err := bereke_merchant.NewWithToken("super_secret_token", bereke_merchant.TEST)
    if err != nil {
        log.Fatal("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ API:", err)
    }
```

---

## üöÄ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `RegisterOrder`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —É–∫–∞–∑–∞–ª–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è, —Ç–∞–∫–∏–µ –∫–∞–∫ `OrderNumber`, `Amount` –∏ `Currency` (–¥–ª—è —Ç–µ–Ω–≥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ 398).

```go
	// –ü—Ä–∏–º–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–∞
	registerReq := bereke_merchant.RegisterOrderRequest{
		Order: bereke_merchant.Order{
			OrderNumber: "12345678-1234-5678-9012-abcdefabcdef",
			Amount:      100,
			Currency:    398, // 398 - KZT
			Description: "Test order",
			Language:    "ru",
			ReturnURL:   "https://example.com/return",
		},
		ClientInfo: bereke_merchant.ClientInfo{
			Email:    "ClientEmail@gmail.com",
			ClientId: "1234567890",
		},
	}
	res, err := api.RegisterOrder(context.Background(), registerReq)
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:", err)
	}

	log.Println("–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:", res)
```

---

## üì¶ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `OrderStatus`, –ø–µ—Ä–µ–¥–∞–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞ (`OrderID`).

```go
	statusResp, err := api.OrderStatus(context.Background(), bereke_merchant.OrderStatusRequest{
		OrderID: "12345678-1234-5678-9012-abcdefabcdef",
	})
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞:", err)
	}
	log.Println("–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞:", statusResp.OrderStatus)
```

---

## üì¶ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ —Ä–∞–Ω–µ–µ –æ–ø–ª–∞—á–µ–Ω–Ω–æ–º—É –∑–∞–∫–∞–∑—É —É–∫–∞–∂–∏—Ç–µ OrderID –∏ Amount –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞.

```go
	refundResp, err := api.RefundOrder(context.Background(), bereke_merchant.RefundOrderRequest{
		OrderID: "12345678-1234-5678-9012-abcdefabcdef",
		Amount:  1000, // –°—É–º–º–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
	})
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞:", err)
	}
	log.Println("–û—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞:", refundResp)
```

---

## üì¶ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: –ê–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

–ú–µ—Ç–æ–¥ ReversalOrder –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

```go
	reversalResp, err := api.ReversalOrder(context.Background(), bereke_merchant.ReversalOrderRequest{
		OrderID: "12345678-1234-5678-9012-abcdefabcdef",
	})
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è:", err)
	}
	log.Println("–û—Ç–≤–µ—Ç –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è:", reversalResp)
```

---

## üì¶ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞

–ß—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ OrderID —Å –º–µ—Ç–æ–¥–æ–º CancelOrder.

```go
	cancelResp, err := api.CancelOrder(context.Background(), bereke_merchant.CancelOrderRequest{
		OrderID: "12345678-1234-5678-9012-abcdefabcdef",
	})
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã:", err)
	}
	log.Println("–û—Ç–≤–µ—Ç –æ—Ç–º–µ–Ω—ã:", cancelResp)
```

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–•–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç? –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ **Pull Request (PR)**!

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—Ç–ø—Ä–∞–≤–∫–µ PR:

1.  **–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.**
2.  **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `feat/–Ω–∞–∑–≤–∞–Ω–∏–µ-–≤–∞—à–µ–π-—Ñ–∏—á–∏`).
3.  **–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º.
4.  **–û—Ç–ø—Ä–∞–≤—å—Ç–µ PR** —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É.
